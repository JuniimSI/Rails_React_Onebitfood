  [1m[35m (4.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (123.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (111.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20200506184520)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200506184520"]]
  [1m[35m (105.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRestaurants (20200506184609)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "status" integer, "delivery_tax" float, "state" varchar, "city" varchar, "street" varchar, "neighborhood" varchar, "number" varchar, "complement" varchar, "reference" varchar, "cep" varchar, "latitude" float, "longitude" float, "category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_08f808c5fb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_restaurants_on_category_id" ON "restaurants" ("category_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200506184609"]]
  [1m[35m (86.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProductCategories (20200506184700)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "product_categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_15a29c3a40"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_product_categories_on_restaurant_id" ON "product_categories" ("restaurant_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200506184700"]]
  [1m[35m (83.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProducts (20200506184716)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "price" float, "product_category_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_efe167855e"
FOREIGN KEY ("product_category_id")
  REFERENCES "product_categories" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_products_on_product_category_id" ON "products" ("product_category_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200506184716"]]
  [1m[35m (83.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateReviews (20200506184736)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "value" integer, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8173017a90"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_reviews_on_restaurant_id" ON "reviews" ("restaurant_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200506184736"]]
  [1m[35m (73.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20200506184822)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "phone_number" varchar, "total_value" float, "address" varchar, "status" integer DEFAULT 0, "restaurant_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_9af093cac8"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_orders_on_restaurant_id" ON "orders" ("restaurant_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200506184822"]]
  [1m[35m (188.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderProducts (20200506184825)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE TABLE "order_products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "quantity" integer, "comment" text, "order_id" integer NOT NULL, "product_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f40b8ccee4"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_96c0709f78"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "index_order_products_on_order_id" ON "order_products" ("order_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_order_products_on_product_id" ON "order_products" ("product_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200506184825"]]
  [1m[35m (171.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-05-06 18:49:28.428745"], ["updated_at", "2020-05-06 18:49:28.428745"]]
  [1m[35m (68.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActiveStorageTables (20200506192129)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200506192129"]]
  [1m[35m (224.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Load (16.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[36mProductCategory Load (11.0ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories"[0m
Creating scope :open. Overwriting existing method Restaurant.open.
  [1m[36mRestaurant Load (15.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.9ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 1], ["title", "mexicana"], ["created_at", "2020-05-10 11:16:29.300765"], ["updated_at", "2020-05-10 11:16:29.300765"]]
  [1m[35m (112.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (19.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (12.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tox96vxr5nyy2oswtbc8cmtkp4e0"], ["filename", "mexican.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 164392], ["checksum", "GQF9otxCszErHnwhJPtaXQ=="], ["created_at", "2020-05-10 11:16:29.826756"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-05-10 11:16:29.846491"]]
  [1m[36mCategory Update (0.6ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:29.852715"], ["id", 1]]
  [1m[35m (101.3ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (3.1ms) [0m[32mUploaded file to key: tox96vxr5nyy2oswtbc8cmtkp4e0 (checksum: GQF9otxCszErHnwhJPtaXQ==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ad37370-4518-4bfb-86ec-42655d090f25] Performing ActiveStorage::AnalyzeJob (Job ID: 7ad37370-4518-4bfb-86ec-42655d090f25) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:30Z with arguments: #<GlobalID:0x0000000002f86068 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ad37370-4518-4bfb-86ec-42655d090f25] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: tox96vxr5nyy2oswtbc8cmtkp4e0[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ad37370-4518-4bfb-86ec-42655d090f25] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ad37370-4518-4bfb-86ec-42655d090f25]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ad37370-4518-4bfb-86ec-42655d090f25]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ad37370-4518-4bfb-86ec-42655d090f25]   [1m[35m (114.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ad37370-4518-4bfb-86ec-42655d090f25] Performed ActiveStorage::AnalyzeJob (Job ID: 7ad37370-4518-4bfb-86ec-42655d090f25) from Inline(active_storage_analysis) in 373.96ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7ad37370-4518-4bfb-86ec-42655d090f25) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000004a5c658 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/1>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 2], ["title", "italiana"], ["created_at", "2020-05-10 11:16:30.694527"], ["updated_at", "2020-05-10 11:16:30.694527"]]
  [1m[35m (110.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "jdacemuq8ehdax6nrt1e7efx5ey5"], ["filename", "italian.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 125653], ["checksum", "VkJVIGot5n2w09P8J9LMJw=="], ["created_at", "2020-05-10 11:16:30.831446"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-05-10 11:16:30.841303"]]
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:30.846690"], ["id", 2]]
  [1m[35m (102.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: jdacemuq8ehdax6nrt1e7efx5ey5 (checksum: VkJVIGot5n2w09P8J9LMJw==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf] Performing ActiveStorage::AnalyzeJob (Job ID: 8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:30Z with arguments: #<GlobalID:0x0000000004637c80 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: jdacemuq8ehdax6nrt1e7efx5ey5[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf]   [1m[35m (111.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf] Performed ActiveStorage::AnalyzeJob (Job ID: 8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf) from Inline(active_storage_analysis) in 127.48ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8f4a08b5-92f4-41a4-bf36-fdff54e2ccbf) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x000000000442dc50 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/2>>
  [1m[35m (1.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 3], ["title", "japonesa"], ["created_at", "2020-05-10 11:16:31.098437"], ["updated_at", "2020-05-10 11:16:31.098437"]]
  [1m[35m (112.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "dje0w3ku0fh96zmyhhcv14mkiepb"], ["filename", "japonese.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 71527], ["checksum", "VroUMJbl9i+K077scUgt4A=="], ["created_at", "2020-05-10 11:16:31.237876"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-05-10 11:16:31.245042"]]
  [1m[36mCategory Update (0.4ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:31.248778"], ["id", 3]]
  [1m[35m (100.1ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (46.2ms) [0m[32mUploaded file to key: dje0w3ku0fh96zmyhhcv14mkiepb (checksum: VroUMJbl9i+K077scUgt4A==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d31055d-f605-487c-a20f-eba226337fd5] Performing ActiveStorage::AnalyzeJob (Job ID: 9d31055d-f605-487c-a20f-eba226337fd5) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:31Z with arguments: #<GlobalID:0x0000000003948ab0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d31055d-f605-487c-a20f-eba226337fd5] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: dje0w3ku0fh96zmyhhcv14mkiepb[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d31055d-f605-487c-a20f-eba226337fd5] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d31055d-f605-487c-a20f-eba226337fd5]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d31055d-f605-487c-a20f-eba226337fd5]   [1m[36mActiveStorage::Blob Update (1.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d31055d-f605-487c-a20f-eba226337fd5]   [1m[35m (99.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9d31055d-f605-487c-a20f-eba226337fd5] Performed ActiveStorage::AnalyzeJob (Job ID: 9d31055d-f605-487c-a20f-eba226337fd5) from Inline(active_storage_analysis) in 123.32ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9d31055d-f605-487c-a20f-eba226337fd5) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000032b3100 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 4], ["title", "vegana"], ["created_at", "2020-05-10 11:16:31.537455"], ["updated_at", "2020-05-10 11:16:31.537455"]]
  [1m[35m (88.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "24rnw13oj7m2dk0liizk3i5t7h0h"], ["filename", "vegan.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 216914], ["checksum", "CAi1dzXvL7/PU6p21wlK9w=="], ["created_at", "2020-05-10 11:16:31.662790"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 4], ["blob_id", 4], ["created_at", "2020-05-10 11:16:31.666539"]]
  [1m[36mCategory Update (0.5ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:31.670635"], ["id", 4]]
  [1m[35m (111.6ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (34.8ms) [0m[32mUploaded file to key: 24rnw13oj7m2dk0liizk3i5t7h0h (checksum: CAi1dzXvL7/PU6p21wlK9w==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0] Performing ActiveStorage::AnalyzeJob (Job ID: 8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:31Z with arguments: #<GlobalID:0x000000000498fa68 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 24rnw13oj7m2dk0liizk3i5t7h0h[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0]   [1m[35m (97.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0] Performed ActiveStorage::AnalyzeJob (Job ID: 8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0) from Inline(active_storage_analysis) in 113.92ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8eaa081a-4b37-4fbe-9841-8b9d92fd6ab0) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000047c45d0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/4>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("id", "title", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 5], ["title", "vegana"], ["created_at", "2020-05-10 11:16:31.948243"], ["updated_at", "2020-05-10 11:16:31.948243"]]
  [1m[35m (98.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "grxwfzk8np2crfwca2jsdm1krr5c"], ["filename", "peruana.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 154270], ["checksum", "gV+ZcvQvV0QSJ79UeILL+g=="], ["created_at", "2020-05-10 11:16:32.070928"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Category"], ["record_id", 5], ["blob_id", 5], ["created_at", "2020-05-10 11:16:32.075102"]]
  [1m[36mCategory Update (0.3ms)[0m  [1m[33mUPDATE "categories" SET "updated_at" = ? WHERE "categories"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:32.079196"], ["id", 5]]
  [1m[35m (104.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (6.1ms) [0m[32mUploaded file to key: grxwfzk8np2crfwca2jsdm1krr5c (checksum: gV+ZcvQvV0QSJ79UeILL+g==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9142854c-da38-4f57-b23e-787b53cf6ecf] Performing ActiveStorage::AnalyzeJob (Job ID: 9142854c-da38-4f57-b23e-787b53cf6ecf) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:32Z with arguments: #<GlobalID:0x0000000004326b68 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9142854c-da38-4f57-b23e-787b53cf6ecf] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: grxwfzk8np2crfwca2jsdm1krr5c[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9142854c-da38-4f57-b23e-787b53cf6ecf] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [9142854c-da38-4f57-b23e-787b53cf6ecf]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9142854c-da38-4f57-b23e-787b53cf6ecf]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9142854c-da38-4f57-b23e-787b53cf6ecf]   [1m[35m (88.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9142854c-da38-4f57-b23e-787b53cf6ecf] Performed ActiveStorage::AnalyzeJob (Job ID: 9142854c-da38-4f57-b23e-787b53cf6ecf) from Inline(active_storage_analysis) in 110.9ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9142854c-da38-4f57-b23e-787b53cf6ecf) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x000000000402bd28 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/5>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Create (26.2ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "status", "delivery_tax", "state", "city", "street", "neighborhood", "number", "latitude", "longitude", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Los Sombreros"], ["description", "Nossa missão tem sido ajudar as pessoas a alcançar seus objetivos de saúde e bem-estar. Embora tenhamos mudado ao longo dos anos, nossos valores permaneceram os mesmos."], ["status", 1], ["delivery_tax", 5.5], ["state", "SP"], ["city", "São Paulo"], ["street", "Melo Barreto"], ["neighborhood", "Brás"], ["number", "1393"], ["latitude", -23.5458414], ["longitude", -46.6214129], ["category_id", 1], ["created_at", "2020-05-10 11:16:33.903528"], ["updated_at", "2020-05-10 11:16:33.903528"]]
  [1m[35m (94.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "uquzobg7tmv3yxrf1kwd7s7sjxbw"], ["filename", "1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 284707], ["checksum", "7r/DK32Mv5bcP+oY3ZoSew=="], ["created_at", "2020-05-10 11:16:34.775664"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 1], ["blob_id", 6], ["created_at", "2020-05-10 11:16:34.780422"]]
  [1m[36mRestaurant Update (0.3ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:34.785059"], ["id", 1]]
  [1m[35m (119.2ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (2.3ms) [0m[32mUploaded file to key: uquzobg7tmv3yxrf1kwd7s7sjxbw (checksum: 7r/DK32Mv5bcP+oY3ZoSew==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdeacaa0-5de5-4e11-8851-b801401d696e] Performing ActiveStorage::AnalyzeJob (Job ID: cdeacaa0-5de5-4e11-8851-b801401d696e) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:34Z with arguments: #<GlobalID:0x00000000049c2c10 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/6>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdeacaa0-5de5-4e11-8851-b801401d696e] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: uquzobg7tmv3yxrf1kwd7s7sjxbw[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdeacaa0-5de5-4e11-8851-b801401d696e] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdeacaa0-5de5-4e11-8851-b801401d696e]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdeacaa0-5de5-4e11-8851-b801401d696e]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdeacaa0-5de5-4e11-8851-b801401d696e]   [1m[35m (70.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdeacaa0-5de5-4e11-8851-b801401d696e] Performed ActiveStorage::AnalyzeJob (Job ID: cdeacaa0-5de5-4e11-8851-b801401d696e) from Inline(active_storage_analysis) in 92.66ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cdeacaa0-5de5-4e11-8851-b801401d696e) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000047e1158 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/6>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Pratos Mexicanos"], ["restaurant_id", 1], ["created_at", "2020-05-10 11:16:35.752896"], ["updated_at", "2020-05-10 11:16:35.752896"]]
  [1m[35m (149.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (33.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho Guacamole"], ["description", "Tortilhas com Guacamole"], ["price", 19.0], ["product_category_id", 1], ["created_at", "2020-05-10 11:16:36.645212"], ["updated_at", "2020-05-10 11:16:36.645212"]]
  [1m[35m (88.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3qeeco14f226sh8rsttoodg58tqu"], ["filename", "nachosg.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 39518], ["checksum", "gPUpvSnjV8pm4zEZHLjGJQ=="], ["created_at", "2020-05-10 11:16:37.528754"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 1], ["blob_id", 7], ["created_at", "2020-05-10 11:16:37.537614"]]
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:37.541891"], ["id", 1]]
  [1m[35m (285.5ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: 3qeeco14f226sh8rsttoodg58tqu (checksum: gPUpvSnjV8pm4zEZHLjGJQ==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [28f0ff61-5010-4494-a639-7c8901189b6d] Performing ActiveStorage::AnalyzeJob (Job ID: 28f0ff61-5010-4494-a639-7c8901189b6d) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:37Z with arguments: #<GlobalID:0x0000000003867858 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [28f0ff61-5010-4494-a639-7c8901189b6d] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 3qeeco14f226sh8rsttoodg58tqu[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [28f0ff61-5010-4494-a639-7c8901189b6d] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [28f0ff61-5010-4494-a639-7c8901189b6d]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [28f0ff61-5010-4494-a639-7c8901189b6d]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [28f0ff61-5010-4494-a639-7c8901189b6d]   [1m[35m (106.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [28f0ff61-5010-4494-a639-7c8901189b6d] Performed ActiveStorage::AnalyzeJob (Job ID: 28f0ff61-5010-4494-a639-7c8901189b6d) from Inline(active_storage_analysis) in 124.53ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 28f0ff61-5010-4494-a639-7c8901189b6d) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000001b40a18 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/7>>
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nacho"], ["description", "Tortilhas com milho"], ["price", 19.0], ["product_category_id", 1], ["created_at", "2020-05-10 11:16:38.697298"], ["updated_at", "2020-05-10 11:16:38.697298"]]
  [1m[35m (114.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "phhaab2pn03mcni3evcn6hygefef"], ["filename", "nachosg2.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 13502], ["checksum", "Lo233VpQQeinZVR67e3dQA=="], ["created_at", "2020-05-10 11:16:39.563851"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 2], ["blob_id", 8], ["created_at", "2020-05-10 11:16:39.569268"]]
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:39.574343"], ["id", 2]]
  [1m[35m (117.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: phhaab2pn03mcni3evcn6hygefef (checksum: Lo233VpQQeinZVR67e3dQA==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [02a27794-a2fa-47b9-9cce-1ecc97941fc9] Performing ActiveStorage::AnalyzeJob (Job ID: 02a27794-a2fa-47b9-9cce-1ecc97941fc9) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:39Z with arguments: #<GlobalID:0x000000000489dec0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/8>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [02a27794-a2fa-47b9-9cce-1ecc97941fc9] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: phhaab2pn03mcni3evcn6hygefef[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [02a27794-a2fa-47b9-9cce-1ecc97941fc9] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [02a27794-a2fa-47b9-9cce-1ecc97941fc9]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [02a27794-a2fa-47b9-9cce-1ecc97941fc9]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [02a27794-a2fa-47b9-9cce-1ecc97941fc9]   [1m[35m (75.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [02a27794-a2fa-47b9-9cce-1ecc97941fc9] Performed ActiveStorage::AnalyzeJob (Job ID: 02a27794-a2fa-47b9-9cce-1ecc97941fc9) from Inline(active_storage_analysis) in 95.39ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 02a27794-a2fa-47b9-9cce-1ecc97941fc9) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000046bd628 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/8>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.7ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "status", "delivery_tax", "state", "city", "street", "neighborhood", "number", "latitude", "longitude", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Ola Que Tal"], ["description", "Para alcançar e manter essa distinção em comida e vinho, serviço, ambiente e ambiente, o restaurante ganha reputação de primeira classe por gastronomia, hospitalidade graciosa e informada, conforto e beleza que atraem clientes novos e repetidos ano após ano."], ["status", 1], ["delivery_tax", 5.5], ["state", "SP"], ["city", "São Paulo"], ["street", "Viela Eugênio Monteiro Junior"], ["neighborhood", "Paraíso"], ["number", "659"], ["latitude", -23.5777756], ["longitude", -46.650557], ["category_id", 1], ["created_at", "2020-05-10 11:16:40.496655"], ["updated_at", "2020-05-10 11:16:40.496655"]]
  [1m[35m (95.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ha9tiabjn8oby11auin7anehw66n"], ["filename", "2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 386736], ["checksum", "+us1vi4Gho2IDPaBG43Smw=="], ["created_at", "2020-05-10 11:16:41.300960"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 2], ["blob_id", 9], ["created_at", "2020-05-10 11:16:41.305089"]]
  [1m[36mRestaurant Update (0.4ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:41.310071"], ["id", 2]]
  [1m[35m (118.2ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (3.1ms) [0m[32mUploaded file to key: ha9tiabjn8oby11auin7anehw66n (checksum: +us1vi4Gho2IDPaBG43Smw==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55a3c1f9-05ab-4916-949f-70a6236b3fbc] Performing ActiveStorage::AnalyzeJob (Job ID: 55a3c1f9-05ab-4916-949f-70a6236b3fbc) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:41Z with arguments: #<GlobalID:0x0000000003b58da0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/9>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [55a3c1f9-05ab-4916-949f-70a6236b3fbc] [36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: ha9tiabjn8oby11auin7anehw66n[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [55a3c1f9-05ab-4916-949f-70a6236b3fbc] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [55a3c1f9-05ab-4916-949f-70a6236b3fbc]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [55a3c1f9-05ab-4916-949f-70a6236b3fbc]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 9]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55a3c1f9-05ab-4916-949f-70a6236b3fbc]   [1m[35m (102.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [55a3c1f9-05ab-4916-949f-70a6236b3fbc] Performed ActiveStorage::AnalyzeJob (Job ID: 55a3c1f9-05ab-4916-949f-70a6236b3fbc) from Inline(active_storage_analysis) in 123.34ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 55a3c1f9-05ab-4916-949f-70a6236b3fbc) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000035681c0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/9>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Pratos Mexicanos"], ["restaurant_id", 2], ["created_at", "2020-05-10 11:16:42.264098"], ["updated_at", "2020-05-10 11:16:42.264098"]]
  [1m[35m (124.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Burrito"], ["description", "Tortilhas com Guacamole"], ["price", 19.0], ["product_category_id", 2], ["created_at", "2020-05-10 11:16:43.080184"], ["updated_at", "2020-05-10 11:16:43.080184"]]
  [1m[35m (167.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "w1kevi9dphzs13hqocgelzhekc6a"], ["filename", "bt.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 43318], ["checksum", "U0/4sG20jBrwkp3OE5bL/A=="], ["created_at", "2020-05-10 11:16:43.964930"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 3], ["blob_id", 10], ["created_at", "2020-05-10 11:16:43.969976"]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:43.977357"], ["id", 3]]
  [1m[35m (148.7ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.7ms) [0m[32mUploaded file to key: w1kevi9dphzs13hqocgelzhekc6a (checksum: U0/4sG20jBrwkp3OE5bL/A==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [936bd330-383d-46bb-bf65-762011588a30] Performing ActiveStorage::AnalyzeJob (Job ID: 936bd330-383d-46bb-bf65-762011588a30) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:44Z with arguments: #<GlobalID:0x00000000047c5818 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/10>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [936bd330-383d-46bb-bf65-762011588a30] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: w1kevi9dphzs13hqocgelzhekc6a[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [936bd330-383d-46bb-bf65-762011588a30] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [936bd330-383d-46bb-bf65-762011588a30]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [936bd330-383d-46bb-bf65-762011588a30]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 10]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [936bd330-383d-46bb-bf65-762011588a30]   [1m[35m (84.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [936bd330-383d-46bb-bf65-762011588a30] Performed ActiveStorage::AnalyzeJob (Job ID: 936bd330-383d-46bb-bf65-762011588a30) from Inline(active_storage_analysis) in 102.6ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 936bd330-383d-46bb-bf65-762011588a30) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000046a3868 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/10>>
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Quesadilha"], ["description", "Tortilhas de queijo"], ["price", 25.0], ["product_category_id", 2], ["created_at", "2020-05-10 11:16:44.943487"], ["updated_at", "2020-05-10 11:16:44.943487"]]
  [1m[35m (100.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xkfepopbia21ps027w4w6t01n737"], ["filename", "quesa.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 11028], ["checksum", "5JRLgt/bXaIsJJ7mhWia3g=="], ["created_at", "2020-05-10 11:16:45.770689"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 4], ["blob_id", 11], ["created_at", "2020-05-10 11:16:45.777868"]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:45.782797"], ["id", 4]]
  [1m[35m (99.1ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: xkfepopbia21ps027w4w6t01n737 (checksum: 5JRLgt/bXaIsJJ7mhWia3g==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f483d19a-6239-4438-a3a6-cd0f31c0cedd] Performing ActiveStorage::AnalyzeJob (Job ID: f483d19a-6239-4438-a3a6-cd0f31c0cedd) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:45Z with arguments: #<GlobalID:0x0000000003b36f48 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/11>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f483d19a-6239-4438-a3a6-cd0f31c0cedd] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: xkfepopbia21ps027w4w6t01n737[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f483d19a-6239-4438-a3a6-cd0f31c0cedd] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f483d19a-6239-4438-a3a6-cd0f31c0cedd]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f483d19a-6239-4438-a3a6-cd0f31c0cedd]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f483d19a-6239-4438-a3a6-cd0f31c0cedd]   [1m[35m (93.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f483d19a-6239-4438-a3a6-cd0f31c0cedd] Performed ActiveStorage::AnalyzeJob (Job ID: f483d19a-6239-4438-a3a6-cd0f31c0cedd) from Inline(active_storage_analysis) in 113.96ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f483d19a-6239-4438-a3a6-cd0f31c0cedd) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x000000000354bb88 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/11>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.7ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "status", "delivery_tax", "state", "city", "street", "neighborhood", "number", "latitude", "longitude", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Bravo"], ["description", "Estamos empenhados em usar os melhores ingredientes em nossas receitas. Nenhum alimento deixa a nossa cozinha que nós mesmos não comeríamos."], ["status", 1], ["delivery_tax", 3.5], ["state", "SP"], ["city", "São Paulo"], ["street", "Rua Coperema"], ["neighborhood", "Jardim Jaú (Zona Leste)"], ["number", "250"], ["latitude", -23.5112244], ["longitude", -46.5473553], ["category_id", 2], ["created_at", "2020-05-10 11:16:46.706231"], ["updated_at", "2020-05-10 11:16:46.706231"]]
  [1m[35m (107.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "igdnsuwien4jnttusr2kf4gs1pa5"], ["filename", "3.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 165155], ["checksum", "Rf9lUG+rvhz0g48qN7cY0w=="], ["created_at", "2020-05-10 11:16:47.526041"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 3], ["blob_id", 12], ["created_at", "2020-05-10 11:16:47.530901"]]
  [1m[36mRestaurant Update (0.4ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:47.536712"], ["id", 3]]
  [1m[35m (111.3ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: igdnsuwien4jnttusr2kf4gs1pa5 (checksum: Rf9lUG+rvhz0g48qN7cY0w==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30822087-765c-4ec7-8e07-8ea9dbc6bcd8] Performing ActiveStorage::AnalyzeJob (Job ID: 30822087-765c-4ec7-8e07-8ea9dbc6bcd8) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:47Z with arguments: #<GlobalID:0x00000000048e9708 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/12>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [30822087-765c-4ec7-8e07-8ea9dbc6bcd8] [36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: igdnsuwien4jnttusr2kf4gs1pa5[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30822087-765c-4ec7-8e07-8ea9dbc6bcd8] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [30822087-765c-4ec7-8e07-8ea9dbc6bcd8]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30822087-765c-4ec7-8e07-8ea9dbc6bcd8]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30822087-765c-4ec7-8e07-8ea9dbc6bcd8]   [1m[35m (83.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30822087-765c-4ec7-8e07-8ea9dbc6bcd8] Performed ActiveStorage::AnalyzeJob (Job ID: 30822087-765c-4ec7-8e07-8ea9dbc6bcd8) from Inline(active_storage_analysis) in 104.17ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 30822087-765c-4ec7-8e07-8ea9dbc6bcd8) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x000000000473a3d0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/12>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Porções"], ["restaurant_id", 3], ["created_at", "2020-05-10 11:16:48.452506"], ["updated_at", "2020-05-10 11:16:48.452506"]]
  [1m[35m (115.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Berinjela à parmegiana"], ["description", "Com arroz e fritas"], ["price", 78.0], ["product_category_id", 3], ["created_at", "2020-05-10 11:16:49.268454"], ["updated_at", "2020-05-10 11:16:49.268454"]]
  [1m[35m (110.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7fuh9o0tlx006ob7b184aqbe8zbk"], ["filename", "berinjela.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 51258], ["checksum", "RfcwMhOT2ExO+etULUyIKA=="], ["created_at", "2020-05-10 11:16:50.093908"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 5], ["blob_id", 13], ["created_at", "2020-05-10 11:16:50.100744"]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:50.106225"], ["id", 5]]
  [1m[35m (141.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: 7fuh9o0tlx006ob7b184aqbe8zbk (checksum: RfcwMhOT2ExO+etULUyIKA==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1b1635d-9a8e-4ab4-89d4-b256cf5fb548] Performing ActiveStorage::AnalyzeJob (Job ID: c1b1635d-9a8e-4ab4-89d4-b256cf5fb548) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:50Z with arguments: #<GlobalID:0x0000000003a47b78 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/13>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1b1635d-9a8e-4ab4-89d4-b256cf5fb548] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 7fuh9o0tlx006ob7b184aqbe8zbk[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1b1635d-9a8e-4ab4-89d4-b256cf5fb548] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1b1635d-9a8e-4ab4-89d4-b256cf5fb548]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1b1635d-9a8e-4ab4-89d4-b256cf5fb548]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1b1635d-9a8e-4ab4-89d4-b256cf5fb548]   [1m[35m (87.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1b1635d-9a8e-4ab4-89d4-b256cf5fb548] Performed ActiveStorage::AnalyzeJob (Job ID: c1b1635d-9a8e-4ab4-89d4-b256cf5fb548) from Inline(active_storage_analysis) in 106.83ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c1b1635d-9a8e-4ab4-89d4-b256cf5fb548) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000003369f68 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/13>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fritas"], ["description", "Bata frita com bacon"], ["price", 35.0], ["product_category_id", 3], ["created_at", "2020-05-10 11:16:51.058798"], ["updated_at", "2020-05-10 11:16:51.058798"]]
  [1m[35m (108.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "z2ytej6u0ittslfwsrfoeu5pb9lw"], ["filename", "fritas.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 117995], ["checksum", "1NC6jYqSIVfOJ1N2qcGGtg=="], ["created_at", "2020-05-10 11:16:51.888929"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 6], ["blob_id", 14], ["created_at", "2020-05-10 11:16:51.892831"]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:51.896595"], ["id", 6]]
  [1m[35m (130.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: z2ytej6u0ittslfwsrfoeu5pb9lw (checksum: 1NC6jYqSIVfOJ1N2qcGGtg==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d25e702-5695-4013-bcc8-f7d0927c33c9] Performing ActiveStorage::AnalyzeJob (Job ID: 6d25e702-5695-4013-bcc8-f7d0927c33c9) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:52Z with arguments: #<GlobalID:0x00000000048d6770 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/14>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d25e702-5695-4013-bcc8-f7d0927c33c9] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: z2ytej6u0ittslfwsrfoeu5pb9lw[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d25e702-5695-4013-bcc8-f7d0927c33c9] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d25e702-5695-4013-bcc8-f7d0927c33c9]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d25e702-5695-4013-bcc8-f7d0927c33c9]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d25e702-5695-4013-bcc8-f7d0927c33c9]   [1m[35m (76.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d25e702-5695-4013-bcc8-f7d0927c33c9] Performed ActiveStorage::AnalyzeJob (Job ID: 6d25e702-5695-4013-bcc8-f7d0927c33c9) from Inline(active_storage_analysis) in 92.18ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6d25e702-5695-4013-bcc8-f7d0927c33c9) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000004700bf8 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/14>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "status", "delivery_tax", "state", "city", "street", "neighborhood", "number", "latitude", "longitude", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "La Pergoletti"], ["description", "Nossa missão é estabelecer relações comerciais benéficas com diversos fornecedores que compartilham nosso compromisso com o atendimento ao cliente, qualidade e preços competitivos."], ["status", 1], ["delivery_tax", 6.7], ["state", "SP"], ["city", "São Paulo"], ["street", "Rua Joaquim Pinto"], ["neighborhood", "Vila Gomes Cardim"], ["number", "929"], ["latitude", -21.3349116], ["longitude", -48.8502374], ["category_id", 2], ["created_at", "2020-05-10 11:16:52.833971"], ["updated_at", "2020-05-10 11:16:52.833971"]]
  [1m[35m (116.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "l10vlkgzztk7m3shd48gy4k3wv96"], ["filename", "4.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 32270], ["checksum", "vFtn+orRLR19GDlqFzhvyw=="], ["created_at", "2020-05-10 11:16:53.663367"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 4], ["blob_id", 15], ["created_at", "2020-05-10 11:16:53.667569"]]
  [1m[36mRestaurant Update (0.3ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:53.671545"], ["id", 4]]
  [1m[35m (125.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (28.7ms) [0m[32mUploaded file to key: l10vlkgzztk7m3shd48gy4k3wv96 (checksum: vFtn+orRLR19GDlqFzhvyw==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0382e31f-9bb1-4f6d-a58b-a7044a0d0905] Performing ActiveStorage::AnalyzeJob (Job ID: 0382e31f-9bb1-4f6d-a58b-a7044a0d0905) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:53Z with arguments: #<GlobalID:0x0000000003f5a4f8 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/15>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0382e31f-9bb1-4f6d-a58b-a7044a0d0905] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: l10vlkgzztk7m3shd48gy4k3wv96[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0382e31f-9bb1-4f6d-a58b-a7044a0d0905] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [0382e31f-9bb1-4f6d-a58b-a7044a0d0905]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0382e31f-9bb1-4f6d-a58b-a7044a0d0905]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 15]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0382e31f-9bb1-4f6d-a58b-a7044a0d0905]   [1m[35m (116.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0382e31f-9bb1-4f6d-a58b-a7044a0d0905] Performed ActiveStorage::AnalyzeJob (Job ID: 0382e31f-9bb1-4f6d-a58b-a7044a0d0905) from Inline(active_storage_analysis) in 145.48ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0382e31f-9bb1-4f6d-a58b-a7044a0d0905) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x000000000353bc88 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/15>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Fogazzas (Individuais)"], ["restaurant_id", 4], ["created_at", "2020-05-10 11:16:54.670142"], ["updated_at", "2020-05-10 11:16:54.670142"]]
  [1m[35m (131.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fogazza Bacon"], ["description", "Bacon, parmesão e mussarela."], ["price", 12.0], ["product_category_id", 4], ["created_at", "2020-05-10 11:16:55.510520"], ["updated_at", "2020-05-10 11:16:55.510520"]]
  [1m[35m (108.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8amsigjmrg8lxucij7i1yuujzk4d"], ["filename", "fogazza.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 193720], ["checksum", "tKp0pQJe9/tIg4wcZuztBQ=="], ["created_at", "2020-05-10 11:16:56.333259"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 7], ["blob_id", 16], ["created_at", "2020-05-10 11:16:56.339616"]]
  [1m[36mProduct Update (1.1ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:56.346681"], ["id", 7]]
  [1m[35m (107.7ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.8ms) [0m[32mUploaded file to key: 8amsigjmrg8lxucij7i1yuujzk4d (checksum: tKp0pQJe9/tIg4wcZuztBQ==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd7790c1-51f8-4c97-9c8e-ef22b424c348] Performing ActiveStorage::AnalyzeJob (Job ID: bd7790c1-51f8-4c97-9c8e-ef22b424c348) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:56Z with arguments: #<GlobalID:0x000000000478e390 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/16>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd7790c1-51f8-4c97-9c8e-ef22b424c348] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: 8amsigjmrg8lxucij7i1yuujzk4d[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd7790c1-51f8-4c97-9c8e-ef22b424c348] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd7790c1-51f8-4c97-9c8e-ef22b424c348]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd7790c1-51f8-4c97-9c8e-ef22b424c348]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 16]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd7790c1-51f8-4c97-9c8e-ef22b424c348]   [1m[35m (71.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd7790c1-51f8-4c97-9c8e-ef22b424c348] Performed ActiveStorage::AnalyzeJob (Job ID: bd7790c1-51f8-4c97-9c8e-ef22b424c348) from Inline(active_storage_analysis) in 91.49ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bd7790c1-51f8-4c97-9c8e-ef22b424c348) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000004635480 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/16>>
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fogazza A moda da Casa"], ["description", "Calabresa, bacon, palmito e mussarela."], ["price", 12.0], ["product_category_id", 4], ["created_at", "2020-05-10 11:16:57.270382"], ["updated_at", "2020-05-10 11:16:57.270382"]]
  [1m[35m (161.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (3.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "v5epscncgmemzzcard8gma18mgpv"], ["filename", "fogazza.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 193720], ["checksum", "tKp0pQJe9/tIg4wcZuztBQ=="], ["created_at", "2020-05-10 11:16:58.156163"]]
  [1m[36mActiveStorage::Attachment Create (2.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 8], ["blob_id", 17], ["created_at", "2020-05-10 11:16:58.172436"]]
  [1m[36mProduct Update (1.0ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:16:58.179736"], ["id", 8]]
  [1m[35m (131.4ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (8.5ms) [0m[32mUploaded file to key: v5epscncgmemzzcard8gma18mgpv (checksum: tKp0pQJe9/tIg4wcZuztBQ==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [70f8e885-db46-4bc0-97c8-1d33e6f6fcdf] Performing ActiveStorage::AnalyzeJob (Job ID: 70f8e885-db46-4bc0-97c8-1d33e6f6fcdf) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:16:58Z with arguments: #<GlobalID:0x0000000003a460e8 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/17>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [70f8e885-db46-4bc0-97c8-1d33e6f6fcdf] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: v5epscncgmemzzcard8gma18mgpv[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [70f8e885-db46-4bc0-97c8-1d33e6f6fcdf] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [70f8e885-db46-4bc0-97c8-1d33e6f6fcdf]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [70f8e885-db46-4bc0-97c8-1d33e6f6fcdf]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 17]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [70f8e885-db46-4bc0-97c8-1d33e6f6fcdf]   [1m[35m (89.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [70f8e885-db46-4bc0-97c8-1d33e6f6fcdf] Performed ActiveStorage::AnalyzeJob (Job ID: 70f8e885-db46-4bc0-97c8-1d33e6f6fcdf) from Inline(active_storage_analysis) in 109.58ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 70f8e885-db46-4bc0-97c8-1d33e6f6fcdf) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000033c20c8 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/17>>
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "status", "delivery_tax", "state", "city", "street", "neighborhood", "number", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Sushi Eterno"], ["description", "Existimos para garantir que cada hóspede receba um serviço rápido, profissional, amigável e cortês."], ["status", 1], ["delivery_tax", 7.5], ["state", "SP"], ["city", "São Paulo"], ["street", "Avenida Manoel Domingos Pinto"], ["neighborhood", "Parque Anhangüera"], ["number", "507"], ["category_id", 3], ["created_at", "2020-05-10 11:16:59.163146"], ["updated_at", "2020-05-10 11:16:59.163146"]]
  [1m[35m (105.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ra5ia18nfhulugjru9qv4byuhuy2"], ["filename", "5.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 256664], ["checksum", "HYxDnwVyE79I6x1rIPGbvg=="], ["created_at", "2020-05-10 11:17:00.014511"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 5], ["blob_id", 18], ["created_at", "2020-05-10 11:17:00.020061"]]
  [1m[36mRestaurant Update (0.5ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:00.024242"], ["id", 5]]
  [1m[35m (112.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.7ms) [0m[32mUploaded file to key: ra5ia18nfhulugjru9qv4byuhuy2 (checksum: HYxDnwVyE79I6x1rIPGbvg==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1504bff5-d633-40df-ab5b-ac27cbdacfe6] Performing ActiveStorage::AnalyzeJob (Job ID: 1504bff5-d633-40df-ab5b-ac27cbdacfe6) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:00Z with arguments: #<GlobalID:0x000000000489d178 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/18>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1504bff5-d633-40df-ab5b-ac27cbdacfe6] [36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: ra5ia18nfhulugjru9qv4byuhuy2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1504bff5-d633-40df-ab5b-ac27cbdacfe6] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1504bff5-d633-40df-ab5b-ac27cbdacfe6]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1504bff5-d633-40df-ab5b-ac27cbdacfe6]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 18]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1504bff5-d633-40df-ab5b-ac27cbdacfe6]   [1m[35m (106.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1504bff5-d633-40df-ab5b-ac27cbdacfe6] Performed ActiveStorage::AnalyzeJob (Job ID: 1504bff5-d633-40df-ab5b-ac27cbdacfe6) from Inline(active_storage_analysis) in 126.41ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1504bff5-d633-40df-ab5b-ac27cbdacfe6) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00007fbaec01faf0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/18>>
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Entrada"], ["restaurant_id", 5], ["created_at", "2020-05-10 11:17:00.998736"], ["updated_at", "2020-05-10 11:17:00.998736"]]
  [1m[35m (117.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Temaki"], ["description", "Enrolado de arroz com alga marinha em forma de cone"], ["price", 19.99], ["product_category_id", 5], ["created_at", "2020-05-10 11:17:01.838414"], ["updated_at", "2020-05-10 11:17:01.838414"]]
  [1m[35m (103.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "z49by0m4xh5xxlpakps7908euqqp"], ["filename", "temaki.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 5447], ["checksum", "MMPtvMqCwCt2IgioyIQiOQ=="], ["created_at", "2020-05-10 11:17:02.677027"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 9], ["blob_id", 19], ["created_at", "2020-05-10 11:17:02.683577"]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:02.689084"], ["id", 9]]
  [1m[35m (124.6ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: z49by0m4xh5xxlpakps7908euqqp (checksum: MMPtvMqCwCt2IgioyIQiOQ==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a538addf-90e8-4b08-b615-cfeace18b2b0] Performing ActiveStorage::AnalyzeJob (Job ID: a538addf-90e8-4b08-b615-cfeace18b2b0) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:02Z with arguments: #<GlobalID:0x00000000037539d0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/19>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a538addf-90e8-4b08-b615-cfeace18b2b0] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: z49by0m4xh5xxlpakps7908euqqp[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a538addf-90e8-4b08-b615-cfeace18b2b0] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [a538addf-90e8-4b08-b615-cfeace18b2b0]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a538addf-90e8-4b08-b615-cfeace18b2b0]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 19]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a538addf-90e8-4b08-b615-cfeace18b2b0]   [1m[35m (88.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a538addf-90e8-4b08-b615-cfeace18b2b0] Performed ActiveStorage::AnalyzeJob (Job ID: a538addf-90e8-4b08-b615-cfeace18b2b0) from Inline(active_storage_analysis) in 107.54ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a538addf-90e8-4b08-b615-cfeace18b2b0) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000002951d28 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/19>>
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Sashimi"], ["description", "Peixe cru fatiado, salmao, atum e peixe prego"], ["price", 30.9], ["product_category_id", 5], ["created_at", "2020-05-10 11:17:03.642517"], ["updated_at", "2020-05-10 11:17:03.642517"]]
  [1m[35m (116.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (3.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "b0c982bg351ag4cvnujnqqupk6av"], ["filename", "sashimi.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 140495], ["checksum", "1x/XSaPioUO9bpIPQpFPTA=="], ["created_at", "2020-05-10 11:17:04.498182"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 10], ["blob_id", 20], ["created_at", "2020-05-10 11:17:04.506254"]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:04.514577"], ["id", 10]]
  [1m[35m (132.5ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.5ms) [0m[32mUploaded file to key: b0c982bg351ag4cvnujnqqupk6av (checksum: 1x/XSaPioUO9bpIPQpFPTA==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [76201fcd-355a-4fd8-8282-48369f0bff78] Performing ActiveStorage::AnalyzeJob (Job ID: 76201fcd-355a-4fd8-8282-48369f0bff78) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:04Z with arguments: #<GlobalID:0x000000000477fc00 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/20>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [76201fcd-355a-4fd8-8282-48369f0bff78] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: b0c982bg351ag4cvnujnqqupk6av[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [76201fcd-355a-4fd8-8282-48369f0bff78] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [76201fcd-355a-4fd8-8282-48369f0bff78]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [76201fcd-355a-4fd8-8282-48369f0bff78]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 20]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [76201fcd-355a-4fd8-8282-48369f0bff78]   [1m[35m (98.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [76201fcd-355a-4fd8-8282-48369f0bff78] Performed ActiveStorage::AnalyzeJob (Job ID: 76201fcd-355a-4fd8-8282-48369f0bff78) from Inline(active_storage_analysis) in 114.92ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 76201fcd-355a-4fd8-8282-48369f0bff78) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000004636718 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/20>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.8ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "status", "delivery_tax", "state", "city", "street", "neighborhood", "number", "latitude", "longitude", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Okuyamah"], ["description", "Restaurante conceituado, vencedor por 5 vezes como melhor restaurante Japones de São Paulo."], ["status", 1], ["delivery_tax", 8.3], ["state", "SP"], ["city", "São Paulo"], ["street", "Rua Francisco Artassio"], ["neighborhood", "Jardim das Laranjeiras"], ["number", "134"], ["latitude", -23.5055522], ["longitude", -46.6625972], ["category_id", 3], ["created_at", "2020-05-10 11:17:05.482587"], ["updated_at", "2020-05-10 11:17:05.482587"]]
  [1m[35m (109.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xxwskc0ixbjmez5xau5z7ktc8s8j"], ["filename", "6.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 344855], ["checksum", "EAq/Pa4tAVMuzUnCl8NTbw=="], ["created_at", "2020-05-10 11:17:06.312921"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 6], ["blob_id", 21], ["created_at", "2020-05-10 11:17:06.321919"]]
  [1m[36mRestaurant Update (0.7ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:06.327465"], ["id", 6]]
  [1m[35m (96.4ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (2.2ms) [0m[32mUploaded file to key: xxwskc0ixbjmez5xau5z7ktc8s8j (checksum: EAq/Pa4tAVMuzUnCl8NTbw==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [46ad175e-597d-4407-9956-17cf2e86ba64] Performing ActiveStorage::AnalyzeJob (Job ID: 46ad175e-597d-4407-9956-17cf2e86ba64) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:06Z with arguments: #<GlobalID:0x0000000003853448 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/21>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [46ad175e-597d-4407-9956-17cf2e86ba64] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: xxwskc0ixbjmez5xau5z7ktc8s8j[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [46ad175e-597d-4407-9956-17cf2e86ba64] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [46ad175e-597d-4407-9956-17cf2e86ba64]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [46ad175e-597d-4407-9956-17cf2e86ba64]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 21]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [46ad175e-597d-4407-9956-17cf2e86ba64]   [1m[35m (71.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [46ad175e-597d-4407-9956-17cf2e86ba64] Performed ActiveStorage::AnalyzeJob (Job ID: 46ad175e-597d-4407-9956-17cf2e86ba64) from Inline(active_storage_analysis) in 88.92ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 46ad175e-597d-4407-9956-17cf2e86ba64) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000002bf62e0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/21>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.9ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Entrada"], ["restaurant_id", 6], ["created_at", "2020-05-10 11:17:07.224523"], ["updated_at", "2020-05-10 11:17:07.224523"]]
  [1m[35m (96.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Hossomaki 16 unidades"], ["description", "Enrolado fino com folha de alga marinha por fora."], ["price", 20.9], ["product_category_id", 6], ["created_at", "2020-05-10 11:17:08.020251"], ["updated_at", "2020-05-10 11:17:08.020251"]]
  [1m[35m (114.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3s7urt9al337cglnzz4d41xnkgfa"], ["filename", "hosomaki.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 41505], ["checksum", "L5rVeRpm4bs0OcJHEA4FHg=="], ["created_at", "2020-05-10 11:17:08.868157"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 11], ["blob_id", 22], ["created_at", "2020-05-10 11:17:08.872091"]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:08.876086"], ["id", 11]]
  [1m[35m (139.5ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: 3s7urt9al337cglnzz4d41xnkgfa (checksum: L5rVeRpm4bs0OcJHEA4FHg==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [297132ba-908f-4bb0-afaf-d2207120b85b] Performing ActiveStorage::AnalyzeJob (Job ID: 297132ba-908f-4bb0-afaf-d2207120b85b) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:09Z with arguments: #<GlobalID:0x00000000044950f8 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/22>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [297132ba-908f-4bb0-afaf-d2207120b85b] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 3s7urt9al337cglnzz4d41xnkgfa[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [297132ba-908f-4bb0-afaf-d2207120b85b] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [297132ba-908f-4bb0-afaf-d2207120b85b]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [297132ba-908f-4bb0-afaf-d2207120b85b]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 22]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [297132ba-908f-4bb0-afaf-d2207120b85b]   [1m[35m (94.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [297132ba-908f-4bb0-afaf-d2207120b85b] Performed ActiveStorage::AnalyzeJob (Job ID: 297132ba-908f-4bb0-afaf-d2207120b85b) from Inline(active_storage_analysis) in 113.47ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 297132ba-908f-4bb0-afaf-d2207120b85b) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00007fbaec00e0c0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/22>>
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Hot roll - 10 unidades"], ["description", "10 unidades."], ["price", 12.0], ["product_category_id", 6], ["created_at", "2020-05-10 11:17:09.847757"], ["updated_at", "2020-05-10 11:17:09.847757"]]
  [1m[35m (108.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cw0n6xkmmwim3ztzc6k25g587dst"], ["filename", "hot-holl.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 35208], ["checksum", "kgUfOpJ5Rx4YYaq3kJUbZw=="], ["created_at", "2020-05-10 11:17:10.678970"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 12], ["blob_id", 23], ["created_at", "2020-05-10 11:17:10.683253"]]
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:10.689230"], ["id", 12]]
  [1m[35m (111.5ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: cw0n6xkmmwim3ztzc6k25g587dst (checksum: kgUfOpJ5Rx4YYaq3kJUbZw==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f60403fb-60ff-49c6-9083-b40f172f3607] Performing ActiveStorage::AnalyzeJob (Job ID: f60403fb-60ff-49c6-9083-b40f172f3607) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:10Z with arguments: #<GlobalID:0x00000000035286b0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/23>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f60403fb-60ff-49c6-9083-b40f172f3607] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: cw0n6xkmmwim3ztzc6k25g587dst[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f60403fb-60ff-49c6-9083-b40f172f3607] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f60403fb-60ff-49c6-9083-b40f172f3607]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f60403fb-60ff-49c6-9083-b40f172f3607]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 23]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f60403fb-60ff-49c6-9083-b40f172f3607]   [1m[35m (108.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f60403fb-60ff-49c6-9083-b40f172f3607] Performed ActiveStorage::AnalyzeJob (Job ID: f60403fb-60ff-49c6-9083-b40f172f3607) from Inline(active_storage_analysis) in 128.7ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f60403fb-60ff-49c6-9083-b40f172f3607) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x000000000259a090 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/23>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.7ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "status", "delivery_tax", "state", "city", "street", "neighborhood", "number", "latitude", "longitude", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Club Life"], ["description", "NOSSA ESPECIALIDADE. pratos vegetais de alta qualidade,com opções de alimentos integrais, sem glúten e sem lactose."], ["status", 1], ["delivery_tax", 5.7], ["state", "SP"], ["city", "São Paulo"], ["street", "Alameda dos Uapês"], ["neighborhood", "Planalto Paulista"], ["number", "933"], ["latitude", -23.6129154], ["longitude", -46.648066], ["category_id", 4], ["created_at", "2020-05-10 11:17:11.660629"], ["updated_at", "2020-05-10 11:17:11.660629"]]
  [1m[35m (108.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "boc8imcombyh63spaqj2tbc88t3i"], ["filename", "7.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 361665], ["checksum", "ot63IknMjw86v0CYSI50/A=="], ["created_at", "2020-05-10 11:17:12.496925"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 7], ["blob_id", 24], ["created_at", "2020-05-10 11:17:12.501701"]]
  [1m[36mRestaurant Update (0.4ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:12.508467"], ["id", 7]]
  [1m[35m (118.1ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (2.4ms) [0m[32mUploaded file to key: boc8imcombyh63spaqj2tbc88t3i (checksum: ot63IknMjw86v0CYSI50/A==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [985fa021-4604-464b-b665-b34c26cd7650] Performing ActiveStorage::AnalyzeJob (Job ID: 985fa021-4604-464b-b665-b34c26cd7650) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:12Z with arguments: #<GlobalID:0x00000000046d5098 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/24>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [985fa021-4604-464b-b665-b34c26cd7650] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: boc8imcombyh63spaqj2tbc88t3i[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [985fa021-4604-464b-b665-b34c26cd7650] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [985fa021-4604-464b-b665-b34c26cd7650]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [985fa021-4604-464b-b665-b34c26cd7650]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 24]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [985fa021-4604-464b-b665-b34c26cd7650]   [1m[35m (162.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [985fa021-4604-464b-b665-b34c26cd7650] Performed ActiveStorage::AnalyzeJob (Job ID: 985fa021-4604-464b-b665-b34c26cd7650) from Inline(active_storage_analysis) in 183.81ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 985fa021-4604-464b-b665-b34c26cd7650) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000044c2030 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/24>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Saladas, molhos e wraps"], ["restaurant_id", 7], ["created_at", "2020-05-10 11:17:13.522610"], ["updated_at", "2020-05-10 11:17:13.522610"]]
  [1m[35m (99.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Coleslaw"], ["description", "Repolho roxo, couve, cenoura, cebola, maionese de castanha e xylitol"], ["price", 8.99], ["product_category_id", 7], ["created_at", "2020-05-10 11:17:14.326026"], ["updated_at", "2020-05-10 11:17:14.326026"]]
  [1m[35m (97.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (4.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "24uismhm9vhrc92ogoxoilbx40pf"], ["filename", "coleslaw.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 1676701], ["checksum", "0jf2RIpmyk8FNvZtmdOc8g=="], ["created_at", "2020-05-10 11:17:15.168850"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 13], ["blob_id", 25], ["created_at", "2020-05-10 11:17:15.175566"]]
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:15.180502"], ["id", 13]]
  [1m[35m (112.3ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (11.4ms) [0m[32mUploaded file to key: 24uismhm9vhrc92ogoxoilbx40pf (checksum: 0jf2RIpmyk8FNvZtmdOc8g==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28] Performing ActiveStorage::AnalyzeJob (Job ID: 8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:15Z with arguments: #<GlobalID:0x00000000029ba468 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/25>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28] [36m  Disk Storage (3.1ms) [0m[34mDownloaded file from key: 24uismhm9vhrc92ogoxoilbx40pf[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 25]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28]   [1m[35m (85.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28] Performed ActiveStorage::AnalyzeJob (Job ID: 8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28) from Inline(active_storage_analysis) in 116.58ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8c0a1f2c-a0aa-4890-9cf5-435dc7eb6e28) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000004b1e230 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/25>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Side salad"], ["description", "Mix de folhas com cenoura ralada, tomatinho sweet e semente de girassol."], ["price", 9.9], ["product_category_id", 7], ["created_at", "2020-05-10 11:17:16.120081"], ["updated_at", "2020-05-10 11:17:16.120081"]]
  [1m[35m (112.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bo4a5roxqbqi8sz0ow1rfz31b1bw"], ["filename", "side-salad.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 12713], ["checksum", "xTk3hPNVamAITlrohCxp3g=="], ["created_at", "2020-05-10 11:17:16.954028"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 14], ["blob_id", 26], ["created_at", "2020-05-10 11:17:16.958633"]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:16.962816"], ["id", 14]]
  [1m[35m (106.4ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: bo4a5roxqbqi8sz0ow1rfz31b1bw (checksum: xTk3hPNVamAITlrohCxp3g==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [906d0bdf-4622-4a1d-bf2c-f74769969ebc] Performing ActiveStorage::AnalyzeJob (Job ID: 906d0bdf-4622-4a1d-bf2c-f74769969ebc) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:17Z with arguments: #<GlobalID:0x00000000045f32d8 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/26>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [906d0bdf-4622-4a1d-bf2c-f74769969ebc] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: bo4a5roxqbqi8sz0ow1rfz31b1bw[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [906d0bdf-4622-4a1d-bf2c-f74769969ebc] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [906d0bdf-4622-4a1d-bf2c-f74769969ebc]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [906d0bdf-4622-4a1d-bf2c-f74769969ebc]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 26]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [906d0bdf-4622-4a1d-bf2c-f74769969ebc]   [1m[35m (67.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [906d0bdf-4622-4a1d-bf2c-f74769969ebc] Performed ActiveStorage::AnalyzeJob (Job ID: 906d0bdf-4622-4a1d-bf2c-f74769969ebc) from Inline(active_storage_analysis) in 85.93ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 906d0bdf-4622-4a1d-bf2c-f74769969ebc) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000043b1d58 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/26>>
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.8ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "description", "status", "delivery_tax", "state", "city", "street", "neighborhood", "number", "latitude", "longitude", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Casa Natural"], ["description", "Oferecemos, desde 1981, refeições ovo-lacto-vegetarianas, leves, saudáveis, balanceadas e principalmente saborosas, procurando aliar o sabor, a qualidade de vida e o bem-estar dos clientes."], ["status", 1], ["delivery_tax", 8.3], ["state", "SP"], ["city", "São Paulo"], ["street", "Rua Natal"], ["neighborhood", "Cantinho do Céu"], ["number", "938"], ["latitude", -23.6434953], ["longitude", -46.4479492], ["category_id", 4], ["created_at", "2020-05-10 11:17:18.054875"], ["updated_at", "2020-05-10 11:17:18.054875"]]
  [1m[35m (125.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "v70uhe25tidjhx0elx66op7h7u1k"], ["filename", "8.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 233270], ["checksum", "ywDrROH5JvSaoL5Gzl4zwg=="], ["created_at", "2020-05-10 11:17:19.079821"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Restaurant"], ["record_id", 8], ["blob_id", 27], ["created_at", "2020-05-10 11:17:19.086007"]]
  [1m[36mRestaurant Update (0.5ms)[0m  [1m[33mUPDATE "restaurants" SET "updated_at" = ? WHERE "restaurants"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:19.091795"], ["id", 8]]
  [1m[35m (120.4ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (2.4ms) [0m[32mUploaded file to key: v70uhe25tidjhx0elx66op7h7u1k (checksum: ywDrROH5JvSaoL5Gzl4zwg==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0092a12-3844-44f8-b41b-830c074009a3] Performing ActiveStorage::AnalyzeJob (Job ID: d0092a12-3844-44f8-b41b-830c074009a3) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:19Z with arguments: #<GlobalID:0x00000000026fc280 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/27>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0092a12-3844-44f8-b41b-830c074009a3] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: v70uhe25tidjhx0elx66op7h7u1k[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0092a12-3844-44f8-b41b-830c074009a3] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0092a12-3844-44f8-b41b-830c074009a3]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0092a12-3844-44f8-b41b-830c074009a3]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 27]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0092a12-3844-44f8-b41b-830c074009a3]   [1m[35m (84.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0092a12-3844-44f8-b41b-830c074009a3] Performed ActiveStorage::AnalyzeJob (Job ID: d0092a12-3844-44f8-b41b-830c074009a3) from Inline(active_storage_analysis) in 107.93ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d0092a12-3844-44f8-b41b-830c074009a3) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000004acd8a8 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/27>>
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProductCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "product_categories" ("title", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Saladas, molhos e wraps"], ["restaurant_id", 8], ["created_at", "2020-05-10 11:17:20.204521"], ["updated_at", "2020-05-10 11:17:20.204521"]]
  [1m[35m (106.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Salada de quinoa"], ["description", "Alface americana, roxa, frisee, quinoa cozida, cenoura, tomate, damasco dessecado, amendoa crua."], ["price", 20.9], ["product_category_id", 8], ["created_at", "2020-05-10 11:17:21.139332"], ["updated_at", "2020-05-10 11:17:21.139332"]]
  [1m[35m (104.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "spxidq5zpfewweddkmxj6zuajxam"], ["filename", "salada-de-quinoa.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 47435], ["checksum", "UnYA+SnYpMtqUxycmI1Xsw=="], ["created_at", "2020-05-10 11:17:22.113072"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 15], ["blob_id", 28], ["created_at", "2020-05-10 11:17:22.123825"]]
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:22.130391"], ["id", 15]]
  [1m[35m (136.8ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (2.1ms) [0m[32mUploaded file to key: spxidq5zpfewweddkmxj6zuajxam (checksum: UnYA+SnYpMtqUxycmI1Xsw==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3b96f6e-7dd5-400f-90e3-5d1598947b24] Performing ActiveStorage::AnalyzeJob (Job ID: e3b96f6e-7dd5-400f-90e3-5d1598947b24) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:22Z with arguments: #<GlobalID:0x0000000004209460 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/28>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3b96f6e-7dd5-400f-90e3-5d1598947b24] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: spxidq5zpfewweddkmxj6zuajxam[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3b96f6e-7dd5-400f-90e3-5d1598947b24] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3b96f6e-7dd5-400f-90e3-5d1598947b24]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3b96f6e-7dd5-400f-90e3-5d1598947b24]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 28]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3b96f6e-7dd5-400f-90e3-5d1598947b24]   [1m[35m (64.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3b96f6e-7dd5-400f-90e3-5d1598947b24] Performed ActiveStorage::AnalyzeJob (Job ID: e3b96f6e-7dd5-400f-90e3-5d1598947b24) from Inline(active_storage_analysis) in 79.31ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e3b96f6e-7dd5-400f-90e3-5d1598947b24) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x0000000003f708c0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/28>>
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "price", "product_category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Coleslaw"], ["description", "Repolho roxo, couve, cenoura, cebola, maionese de castanha e xylitol"], ["price", 11.0], ["product_category_id", 8], ["created_at", "2020-05-10 11:17:23.212217"], ["updated_at", "2020-05-10 11:17:23.212217"]]
  [1m[35m (123.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "w9yglsx2f4p03fyvhq41u000cu6u"], ["filename", "coleslaw2.jpeg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 6787], ["checksum", "NA8MazS7tTk94BbJrDJERw=="], ["created_at", "2020-05-10 11:17:24.216790"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Product"], ["record_id", 16], ["blob_id", 29], ["created_at", "2020-05-10 11:17:24.220971"]]
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "updated_at" = ? WHERE "products"."id" = ?[0m  [["updated_at", "2020-05-10 11:17:24.230291"], ["id", 16]]
  [1m[35m (129.1ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: w9yglsx2f4p03fyvhq41u000cu6u (checksum: NA8MazS7tTk94BbJrDJERw==)[0m
[ActiveJob]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dae1913d-ee96-444a-8cf7-c43f01429049] Performing ActiveStorage::AnalyzeJob (Job ID: dae1913d-ee96-444a-8cf7-c43f01429049) from Inline(active_storage_analysis) enqueued at 2020-05-10T11:17:24Z with arguments: #<GlobalID:0x0000000004a761e8 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/29>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [dae1913d-ee96-444a-8cf7-c43f01429049] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: w9yglsx2f4p03fyvhq41u000cu6u[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dae1913d-ee96-444a-8cf7-c43f01429049] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [dae1913d-ee96-444a-8cf7-c43f01429049]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dae1913d-ee96-444a-8cf7-c43f01429049]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 29]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dae1913d-ee96-444a-8cf7-c43f01429049]   [1m[35m (131.6ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dae1913d-ee96-444a-8cf7-c43f01429049] Performed ActiveStorage::AnalyzeJob (Job ID: dae1913d-ee96-444a-8cf7-c43f01429049) from Inline(active_storage_analysis) in 154.76ms
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: dae1913d-ee96-444a-8cf7-c43f01429049) to Inline(active_storage_analysis) with arguments: #<GlobalID:0x00000000048ad2d0 @uri=#<URI::GID gid://onebitfood/ActiveStorage::Blob/29>>
Started GET "/categories" for ::1 at 2020-05-10 08:20:54 -0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#index as */*
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."title" ASC[0m
  ↳ app/controllers/categories_controller.rb:4:in `index'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (74.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (62.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Category"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/category_serializer.rb:6:in `image_url'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (1091.22ms)
Completed 200 OK in 1228ms (Views: 1072.3ms | ActiveRecord: 143.2ms | Allocations: 31761)


Started GET "/restaurants" for ::1 at 2020-05-10 08:22:22 -0300
Processing by RestaurantsController#index as */*
Creating scope :open. Overwriting existing method Restaurant.open.
  [1m[36mRestaurant Load (26.2ms)[0m  [1m[34mSELECT restaurants.*, (69.09332411348201 * ABS(restaurants.latitude - -23.5506507) * 0.7071067811865475) + (59.836573914187355 * ABS(restaurants.longitude - -46.6333824) * 0.7071067811865475) AS distance, CASE WHEN (restaurants.latitude >= -23.5506507 AND restaurants.longitude >= -46.6333824) THEN  45.0 WHEN (restaurants.latitude <  -23.5506507 AND restaurants.longitude >= -46.6333824) THEN 135.0 WHEN (restaurants.latitude <  -23.5506507 AND restaurants.longitude <  -46.6333824) THEN 225.0 WHEN (restaurants.latitude >= -23.5506507 AND restaurants.longitude <  -46.6333824) THEN 315.0 END AS bearing FROM "restaurants" WHERE (restaurants.latitude BETWEEN -23.840114266221693 AND -23.261187133778304 AND restaurants.longitude BETWEEN -46.94914686874913 AND -46.31761793125087) ORDER BY distance ASC[0m
  ↳ app/controllers/restaurants_controller.rb:6:in `index'
[active_model_serializers]   [1m[35m (5.3ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 2]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCACHE Category Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 6]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 7]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 3]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 8]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (163.05ms)
Completed 200 OK in 1238ms (Views: 249.2ms | ActiveRecord: 39.5ms | Allocations: 42472)


Started GET "/restaurants?city=Quixeramobim" for ::1 at 2020-05-10 08:22:54 -0300
Processing by RestaurantsController#index as */*
  Parameters: {"city"=>"Quixeramobim"}
  [1m[36mRestaurant Load (1.2ms)[0m  [1m[34mSELECT restaurants.*, (69.09332411348201 * ABS(restaurants.latitude - -5.1983553) * 0.7071067811865475) + (59.836573914187355 * ABS(restaurants.longitude - -39.2955573) * 0.7071067811865475) AS distance, CASE WHEN (restaurants.latitude >= -5.1983553 AND restaurants.longitude >= -39.2955573) THEN  45.0 WHEN (restaurants.latitude <  -5.1983553 AND restaurants.longitude >= -39.2955573) THEN 135.0 WHEN (restaurants.latitude <  -5.1983553 AND restaurants.longitude <  -39.2955573) THEN 225.0 WHEN (restaurants.latitude >= -5.1983553 AND restaurants.longitude <  -39.2955573) THEN 315.0 END AS bearing FROM "restaurants" WHERE (restaurants.latitude BETWEEN -5.487818866221696 AND -4.9088917337783045 AND restaurants.longitude BETWEEN -39.58621634692446 AND -39.00489825307554) ORDER BY distance ASC[0m
  ↳ app/controllers/restaurants_controller.rb:6:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (1.26ms)
Completed 200 OK in 702ms (Views: 21.9ms | ActiveRecord: 1.2ms | Allocations: 2472)


Started GET "/restaurants?city=Sao%20Paulo" for ::1 at 2020-05-10 08:23:18 -0300
Processing by RestaurantsController#index as */*
  Parameters: {"city"=>"Sao Paulo"}
  [1m[36mRestaurant Load (0.8ms)[0m  [1m[34mSELECT restaurants.*, (69.09332411348201 * ABS(restaurants.latitude - -23.5506507) * 0.7071067811865475) + (59.836573914187355 * ABS(restaurants.longitude - -46.6333824) * 0.7071067811865475) AS distance, CASE WHEN (restaurants.latitude >= -23.5506507 AND restaurants.longitude >= -46.6333824) THEN  45.0 WHEN (restaurants.latitude <  -23.5506507 AND restaurants.longitude >= -46.6333824) THEN 135.0 WHEN (restaurants.latitude <  -23.5506507 AND restaurants.longitude <  -46.6333824) THEN 225.0 WHEN (restaurants.latitude >= -23.5506507 AND restaurants.longitude <  -46.6333824) THEN 315.0 END AS bearing FROM "restaurants" WHERE (restaurants.latitude BETWEEN -23.840114266221693 AND -23.261187133778304 AND restaurants.longitude BETWEEN -46.94914686874913 AND -46.31761793125087) ORDER BY distance ASC[0m
  ↳ app/controllers/restaurants_controller.rb:6:in `index'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 2]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 6]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 7]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 3]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 8]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (101.39ms)
Completed 200 OK in 817ms (Views: 102.1ms | ActiveRecord: 6.9ms | Allocations: 24163)


Started GET "/restaurants?city=Sao%20Paulo?category=Vegana" for ::1 at 2020-05-10 08:23:54 -0300
Processing by RestaurantsController#index as */*
  Parameters: {"city"=>"Sao Paulo?category=Vegana"}
Completed 500 Internal Server Error in 669ms (ActiveRecord: 0.0ms | Allocations: 1391)


  
ArgumentError (Unsupported argument type: 0 (Integer)):
  
app/controllers/restaurants_controller.rb:4:in `index'
Started GET "/restaurants?city=Sao%20Paulo&category=Vegana" for ::1 at 2020-05-10 08:24:16 -0300
Processing by RestaurantsController#index as */*
  Parameters: {"city"=>"Sao Paulo", "category"=>"Vegana"}
  [1m[36mRestaurant Load (1.1ms)[0m  [1m[34mSELECT restaurants.*, (69.09332411348201 * ABS(restaurants.latitude - -23.5506507) * 0.7071067811865475) + (59.836573914187355 * ABS(restaurants.longitude - -46.6333824) * 0.7071067811865475) AS distance, CASE WHEN (restaurants.latitude >= -23.5506507 AND restaurants.longitude >= -46.6333824) THEN  45.0 WHEN (restaurants.latitude <  -23.5506507 AND restaurants.longitude >= -46.6333824) THEN 135.0 WHEN (restaurants.latitude <  -23.5506507 AND restaurants.longitude <  -46.6333824) THEN 225.0 WHEN (restaurants.latitude >= -23.5506507 AND restaurants.longitude <  -46.6333824) THEN 315.0 END AS bearing FROM "restaurants" WHERE (restaurants.latitude BETWEEN -23.840114266221693 AND -23.261187133778304 AND restaurants.longitude BETWEEN -46.94914686874913 AND -46.31761793125087) ORDER BY distance ASC[0m
  ↳ app/controllers/restaurants_controller.rb:24:in `filter_by_category'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (0.44ms)
Completed 500 Internal Server Error in 729ms (ActiveRecord: 2.3ms | Allocations: 6465)


  
ArgumentError (Cannot infer root key from collection type. Please specify the root or each_serializer option, or render a JSON String):
  
app/controllers/restaurants_controller.rb:6:in `index'
Started GET "/restaurants?city=Sao%20Paulo&category=vegana" for ::1 at 2020-05-10 08:24:21 -0300
Processing by RestaurantsController#index as */*
  Parameters: {"city"=>"Sao Paulo", "category"=>"vegana"}
  [1m[36mRestaurant Load (1.6ms)[0m  [1m[34mSELECT restaurants.*, (69.09332411348201 * ABS(restaurants.latitude - -23.5506507) * 0.7071067811865475) + (59.836573914187355 * ABS(restaurants.longitude - -46.6333824) * 0.7071067811865475) AS distance, CASE WHEN (restaurants.latitude >= -23.5506507 AND restaurants.longitude >= -46.6333824) THEN  45.0 WHEN (restaurants.latitude <  -23.5506507 AND restaurants.longitude >= -46.6333824) THEN 135.0 WHEN (restaurants.latitude <  -23.5506507 AND restaurants.longitude <  -46.6333824) THEN 225.0 WHEN (restaurants.latitude >= -23.5506507 AND restaurants.longitude <  -46.6333824) THEN 315.0 END AS bearing FROM "restaurants" WHERE (restaurants.latitude BETWEEN -23.840114266221693 AND -23.261187133778304 AND restaurants.longitude BETWEEN -46.94914686874913 AND -46.31761793125087) ORDER BY distance ASC[0m
  ↳ app/controllers/restaurants_controller.rb:24:in `filter_by_category'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:25:in `block in filter_by_category'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 7]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[35m (0.2ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 8]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (20.77ms)
Completed 200 OK in 740ms (Views: 20.2ms | ActiveRecord: 3.8ms | Allocations: 12151)


Started GET "/restaurants/3" for ::1 at 2020-05-10 08:24:52 -0300
Processing by RestaurantsController#show as */*
  Parameters: {"id"=>"3"}
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:30:in `set_restaurant'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 3]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[36mProductCategory Load (29.5ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 3]]
[active_model_serializers]   ↳ app/controllers/restaurants_controller.rb:10:in `show'
[active_model_serializers]   [1m[36mProduct Load (28.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 3]]
[active_model_serializers]   ↳ app/controllers/restaurants_controller.rb:10:in `show'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers] Rendered RestaurantSerializer with ActiveModelSerializers::Adapter::Json (304.51ms)
Completed 200 OK in 314ms (Views: 242.8ms | ActiveRecord: 63.3ms | Allocations: 22395)


Started GET "/restaurants/2" for ::1 at 2020-05-10 08:25:10 -0300
Processing by RestaurantsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:30:in `set_restaurant'
[active_model_serializers]   [1m[35m (0.4ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 2]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[36mProductCategory Load (0.3ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 2]]
[active_model_serializers]   ↳ app/controllers/restaurants_controller.rb:10:in `show'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 2]]
[active_model_serializers]   ↳ app/controllers/restaurants_controller.rb:10:in `show'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers] Rendered RestaurantSerializer with ActiveModelSerializers::Adapter::Json (69.84ms)
Completed 200 OK in 75ms (Views: 67.9ms | ActiveRecord: 3.7ms | Allocations: 11091)


Started GET "/restaurants/4" for ::1 at 2020-05-10 08:25:16 -0300
Processing by RestaurantsController#show as */*
  Parameters: {"id"=>"4"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/restaurants_controller.rb:30:in `set_restaurant'
[active_model_serializers]   [1m[35m (0.4ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 4]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers]   [1m[36mProductCategory Load (0.3ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."restaurant_id" = ?[0m  [["restaurant_id", 4]]
[active_model_serializers]   ↳ app/controllers/restaurants_controller.rb:10:in `show'
[active_model_serializers]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."product_category_id" = ?[0m  [["product_category_id", 4]]
[active_model_serializers]   ↳ app/controllers/restaurants_controller.rb:10:in `show'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Product"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/product_serializer.rb:7:in `image_url'
[active_model_serializers] Rendered RestaurantSerializer with ActiveModelSerializers::Adapter::Json (66.26ms)
Completed 200 OK in 73ms (Views: 64.7ms | ActiveRecord: 3.4ms | Allocations: 11090)


Started GET "/restaurants/search/q=Bravo" for ::1 at 2020-05-10 08:31:13 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/restaurants/search/q=Bravo"):
  
actionpack (6.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.2) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
railties (6.0.2.2) lib/rails/engine.rb:526:in `call'
puma (4.3.3) lib/puma/configuration.rb:228:in `call'
puma (4.3.3) lib/puma/server.rb:682:in `handle_request'
puma (4.3.3) lib/puma/server.rb:472:in `process_client'
puma (4.3.3) lib/puma/server.rb:328:in `block in run'
puma (4.3.3) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/restaurants/search/?q=Bravo" for ::1 at 2020-05-10 08:31:21 -0300
Processing by RestaurantsController#search as */*
  Parameters: {"q"=>"Bravo"}
DEPRECATION WARNING: #search is deprecated and will be removed in 2.3, please use #ransack instead (called from search at /home/junior/onebitfood/app/controllers/restaurants_controller.rb:14)
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE ("restaurants"."name" LIKE '%Bravo%' OR "restaurants"."description" LIKE '%Bravo%')[0m
  ↳ app/controllers/restaurants_controller.rb:18:in `search'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT AVG("reviews"."value") FROM "reviews" WHERE "reviews"."restaurant_id" = ?[0m  [["restaurant_id", 3]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:15:in `review'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Restaurant"], ["name", "image"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:11:in `image_url'
[active_model_serializers]   [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/restaurant_serializer.rb:19:in `category_title'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (14.83ms)
Completed 200 OK in 57ms (Views: 18.7ms | ActiveRecord: 2.1ms | Allocations: 6232)


Started POST "/orders" for ::1 at 2020-05-10 08:36:24 -0300
Processing by OrdersController#create as */*
Completed 400 Bad Request in 13ms (ActiveRecord: 0.0ms | Allocations: 1432)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/orders_controller.rb:23:in `order_params'
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2020-05-10 08:37:23 -0300
Processing by OrdersController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/orders_controller.rb:23:in `order_params'
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2020-05-10 08:37:54 -0300
Processing by OrdersController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/orders_controller.rb:23:in `order_params'
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders?place=Sao%20Paulo" for ::1 at 2020-05-10 08:40:07 -0300
Processing by OrdersController#create as */*
  Parameters: {"place"=>"Sao Paulo"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 117)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/orders_controller.rb:23:in `order_params'
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2020-05-10 08:40:12 -0300
Processing by OrdersController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/orders_controller.rb:23:in `order_params'
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2020-05-10 08:40:25 -0300
Processing by OrdersController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/orders_controller.rb:23:in `order_params'
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders?place=Sao%20Paulo" for ::1 at 2020-05-10 08:40:29 -0300
Processing by OrdersController#create as */*
  Parameters: {"place"=>"Sao Paulo"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 117)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/orders_controller.rb:23:in `order_params'
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2020-05-10 08:40:33 -0300
Processing by OrdersController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/orders_controller.rb:23:in `order_params'
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2020-05-10 08:40:40 -0300
Processing by OrdersController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 116)


  
ActionController::ParameterMissing (param is missing or the value is empty: order):
  
app/controllers/orders_controller.rb:23:in `order_params'
app/controllers/orders_controller.rb:4:in `create'
Started POST "/orders" for ::1 at 2020-05-10 08:43:36 -0300
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"restaurant_id"=>1, "name"=>"José", "phone_number"=>"19 99999 9999", "order_products_attributes"=>[{"product_id"=>1, "quantity"=>2, "comment"=>"tirar y"}, {"product_id"=>1, "quantity"=>6, "comment"=>"tirar y"}]}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mProductCategory Load (0.4ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE ProductCategory Load (0.0ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mOrder Create (38.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "phone_number", "total_value", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "José"], ["phone_number", "19 99999 9999"], ["total_value", 152.0], ["restaurant_id", 1], ["created_at", "2020-05-10 11:43:38.172050"], ["updated_at", "2020-05-10 11:43:38.172050"]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mOrderProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "order_products" ("quantity", "comment", "order_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["quantity", 2], ["comment", "tirar y"], ["order_id", 1], ["product_id", 1], ["created_at", "2020-05-10 11:43:38.216765"], ["updated_at", "2020-05-10 11:43:38.216765"]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mOrderProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "order_products" ("quantity", "comment", "order_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["quantity", 6], ["comment", "tirar y"], ["order_id", 1], ["product_id", 1], ["created_at", "2020-05-10 11:43:38.221584"], ["updated_at", "2020-05-10 11:43:38.221584"]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[35m (89.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:5:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.22ms)
Completed 201 Created in 1867ms (Views: 21.6ms | ActiveRecord: 132.0ms | Allocations: 37992)


Started GET "/orders" for ::1 at 2020-05-10 08:45:31 -0300
  
ActionController::RoutingError (No route matches [GET] "/orders"):
  
actionpack (6.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.2) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
railties (6.0.2.2) lib/rails/engine.rb:526:in `call'
puma (4.3.3) lib/puma/configuration.rb:228:in `call'
puma (4.3.3) lib/puma/server.rb:682:in `handle_request'
puma (4.3.3) lib/puma/server.rb:472:in `process_client'
puma (4.3.3) lib/puma/server.rb:328:in `block in run'
puma (4.3.3) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/" for ::1 at 2020-05-10 08:45:42 -0300
  
ActionController::RoutingError (No route matches [GET] "/orders"):
  
actionpack (6.0.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.2) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.2.2) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
railties (6.0.2.2) lib/rails/engine.rb:526:in `call'
puma (4.3.3) lib/puma/configuration.rb:228:in `call'
puma (4.3.3) lib/puma/server.rb:682:in `handle_request'
puma (4.3.3) lib/puma/server.rb:472:in `process_client'
puma (4.3.3) lib/puma/server.rb:328:in `block in run'
puma (4.3.3) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/1" for ::1 at 2020-05-10 08:45:53 -0300
Processing by OrdersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:19:in `set_order'
[active_model_serializers] Rendered OrderSerializer with ActiveModelSerializers::Adapter::Json (0.86ms)
Completed 200 OK in 40ms (Views: 35.0ms | ActiveRecord: 0.5ms | Allocations: 2300)


Started POST "/orders" for ::1 at 2020-05-10 08:48:36 -0300
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"restaurant_id"=>1, "name"=>"José", "phone_number"=>"19 99999 9999", "address"=>"Paulo sarazate", "order_products_attributes"=>[{"product_id"=>1, "quantity"=>2, "comment"=>"tirar y"}, {"product_id"=>1, "quantity"=>6, "comment"=>"tirar y"}]}}
[31mUnpermitted parameter: :address[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE ProductCategory Load (0.0ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("name", "phone_number", "total_value", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "José"], ["phone_number", "19 99999 9999"], ["total_value", 152.0], ["restaurant_id", 1], ["created_at", "2020-05-10 11:48:38.720439"], ["updated_at", "2020-05-10 11:48:38.720439"]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mOrderProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "order_products" ("quantity", "comment", "order_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["quantity", 2], ["comment", "tirar y"], ["order_id", 2], ["product_id", 1], ["created_at", "2020-05-10 11:48:38.729004"], ["updated_at", "2020-05-10 11:48:38.729004"]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mOrderProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "order_products" ("quantity", "comment", "order_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["quantity", 6], ["comment", "tirar y"], ["order_id", 2], ["product_id", 1], ["created_at", "2020-05-10 11:48:38.735019"], ["updated_at", "2020-05-10 11:48:38.735019"]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[35m (103.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:5:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.16ms)
Completed 201 Created in 2117ms (Views: 1.5ms | ActiveRecord: 106.5ms | Allocations: 25318)


Started GET "/orders/2" for ::1 at 2020-05-10 08:48:52 -0300
Processing by OrdersController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mOrder Load (3.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:19:in `set_order'
[active_model_serializers] Rendered OrderSerializer with ActiveModelSerializers::Adapter::Json (0.72ms)
Completed 200 OK in 7ms (Views: 1.7ms | ActiveRecord: 3.0ms | Allocations: 753)


Started POST "/orders" for ::1 at 2020-05-10 08:49:08 -0300
Processing by OrdersController#create as */*
  Parameters: {"order"=>{"restaurant_id"=>1, "name"=>"José", "phone_number"=>"19 99999 9999", "address"=>"Rua Abc, 239, Sao Paulo", "order_products_attributes"=>[{"product_id"=>1, "quantity"=>2, "comment"=>"tirar y"}, {"product_id"=>1, "quantity"=>6, "comment"=>"tirar y"}]}}
[31mUnpermitted parameter: :address[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mProductCategory Load (0.2ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/order.rb:19:in `block in set_price'
  [1m[36mCACHE ProductCategory Load (0.0ms)[0m  [1m[34mSELECT "product_categories".* FROM "product_categories" WHERE "product_categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Restaurant Load (0.0ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("name", "phone_number", "total_value", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "José"], ["phone_number", "19 99999 9999"], ["total_value", 152.0], ["restaurant_id", 1], ["created_at", "2020-05-10 11:49:09.740802"], ["updated_at", "2020-05-10 11:49:09.740802"]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mOrderProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "order_products" ("quantity", "comment", "order_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["quantity", 2], ["comment", "tirar y"], ["order_id", 3], ["product_id", 1], ["created_at", "2020-05-10 11:49:09.748749"], ["updated_at", "2020-05-10 11:49:09.748749"]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[36mOrderProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "order_products" ("quantity", "comment", "order_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["quantity", 6], ["comment", "tirar y"], ["order_id", 3], ["product_id", 1], ["created_at", "2020-05-10 11:49:09.755191"], ["updated_at", "2020-05-10 11:49:09.755191"]]
  ↳ app/controllers/orders_controller.rb:5:in `create'
  [1m[35m (170.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:5:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.09ms)
Completed 201 Created in 1714ms (Views: 0.9ms | ActiveRecord: 173.6ms | Allocations: 25257)


